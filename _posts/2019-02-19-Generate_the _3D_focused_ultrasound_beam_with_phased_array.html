---
title: Generate_the _3D_focused_ultrasound_beam_with_phased_array
---
<hr>
<hr>
 <br>
<!---define the structure grid--->
<h6>Generate the grid structure in the computational domain</h6>
<hr>
<p>
 <br>To define the temporal and spatial computational domain in 2D forward simulations, 
 we start from the funciton <a href="/mSOUND/functions">mgrid</a>. For 2D problems,
 six inputs are required to to call this function. Coordinates defined with the mgrid functiions are all in Cartesian coordinates.
 <br>
 <code>        
<br>dx = 3.75e-04;         <font color="#a5bad3"> %  step size in the x direction [m]</font> 
<br>dy = 3.75e-04;         <font color="#a5bad3"> %  step size in the y direction [m]</font> 
<br>dz = 3.75e-04;         <font color="#a5bad3"> %  step size in the z direction [m]</font> 
<br>dt = 6.25e-08;         <font color="#a5bad3"> %  time step size [s]</font> 

<br>xlen = 0.0735;         <font color="#a5bad3"> % total computatoinal domain size in x direction [m]</font> 
<br>ylen = 0.0735;         <font color="#a5bad3"> % total computatoinal domain size in y direction [m]</font> 
<br>zlen = 0.0210;         <font color="#a5bad3"> % total computatoinal domain size in z direction [m]</font> 
<br>tlen = 4.40e-05;       <font color="#a5bad3"> % total temporal domain size [s]</font> 
<br>mgrid = set_grid(dt, tlen, dx, xlen, dy, ylen, dz, zlen);              
</code>   
 <br>
</p>
